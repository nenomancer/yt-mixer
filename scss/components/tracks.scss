@mixin light-display($light-color) {
  content: "";
  width: 50%;
  height: 0.15rem;
  position: absolute;
  border-radius: 0.15rem;
  top: 0;
  left: 50%;
  translate: -50% 0;
  @include glow($light-color);
}

#tracks {
  --title-size: 120px;

  display: grid;
  grid-template-columns: repeat(2, 1fr) 0.5fr repeat(2, 1fr);
  grid-template-rows: repeat(2, 6rem);
  grid-template-areas:
    "track-1 track-1 mixer-controls track-2 track-2"
    "track-1 track-1 mixer-controls track-2 track-2";

  [id*="placeholder-"] {
    border-radius: 0.25rem;
    overflow: hidden;
    box-shadow: $shadow-inner-bevel;

    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    color: #eee;
    font-weight: bold;
    text-align: center;

    &::before {
      @include light-display($color-faceplate);
    }

    img {
      width: 100%;
    }
  }

  #placeholder-1 {
    grid-area: track-1;
  }

  #placeholder-2 {
    grid-area: track-2;
  }
}

.track {
  /* padding: 1rem 0.5rem; */
  padding: 0.5rem;
  display: none;
  border-radius: 0.25rem;
  background-color: lighten($color-faceplate, 15);
  &.focused {
    outline: 2px solid pink;
  }

  &[data-selected] {
    display: flex;
    flex-direction: column;
    position: relative;
    box-shadow: $shadow-inner-bevel, 0 0 1px 1px rgba(0, 0, 0, 0.15);

    &::before {
      @include light-display(transparent);
    }
  }

  &[data-selected="0"] {
    grid-area: track-1;
    position: relative;
    &::before {
      @include glow($color-first-track);
    }
  }

  &[data-selected="1"] {
    grid-area: track-2;

    &::before {
      @include glow($color-second-track);
    }
  }

  &[data-playing] {
    .title::after,
    .title::before {
      animation-name: scroll-text;
    }
  }

  .title {
    --title-size: 0px;
    $title-offset: 0.15rem;

    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin-bottom: 0.25rem;
    position: relative;
    height: 2rem;
    display: flex;
    align-items: center;
    background-color: darken($color-faceplate, 3);
    padding-inline: 0.25rem;
    &::before,
    &::after {
      content: attr(data-content);
      animation-duration: 15s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
      color: #eee;
      flex: 1;
    }

    &::after {
      margin-left: $title-offset;
    }
    @keyframes scroll-text {
      from {
        transform: translateX(0%);
      }
      to {
        transform: translateX(calc(-100% - $title-offset));
      }
    }
  }
}
